{"ast":null,"code":"// hooks/UseDataApi.js\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nconst url = \"http://localhost:3001/\";\n\nconst useRequest1 = props => {\n  // This is just for demo purposes, you probably want to separate the data from loading state and potentially add other states such as failures, etc..\n  const [dataState, setDataState] = useState({\n    data: [],\n    isFetching: false\n  });\n  const [endpointUrl] = useState(url);\n  useEffect(() => {\n    const fetchDataFromApi = async () => {\n      try {\n        setDataState({ ...dataState,\n          isFetching: true\n        });\n        console.log(endpointUrl + requestURL);\n        const response = await axios.post(endpointUrl + requestURL, props.params);\n        console.log(response);\n        setDataState({ ...dataState,\n          data: response.data,\n          isFetching: false\n        });\n      } catch (e) {\n        console.log(e);\n        setDataState({ ...dataState,\n          isFetching: false\n        });\n      }\n    };\n\n    fetchDataFromApi();\n  }, [props]); // Runs once\n\n  return [dataState];\n};\n\nexport default useRequest1;","map":{"version":3,"sources":["/Users/admin/Documents/PersonalProjects/RangeSharingReactRubyAPI/frontend/src/HOC/API/useRequest1.js"],"names":["useEffect","useState","axios","url","useRequest1","props","dataState","setDataState","data","isFetching","endpointUrl","fetchDataFromApi","console","log","requestURL","response","post","params","e"],"mappings":"AACA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAG,wBAAZ;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC7B;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC;AAAEO,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,UAAU,EAAE;AAAxB,GAAD,CAA1C;AACA,QAAM,CAACC,WAAD,IAAgBT,QAAQ,CAACE,GAAD,CAA9B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,gBAAgB,GAAG,YAAY;AACnC,UAAI;AACFJ,QAAAA,YAAY,CAAC,EAAE,GAAGD,SAAL;AAAgBG,UAAAA,UAAU,EAAE;AAA5B,SAAD,CAAZ;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAYH,WAAW,GAAGI,UAA1B;AACA,cAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAWN,WAAW,GAAGI,UAAzB,EAAqCT,KAAK,CAACY,MAA3C,CAAvB;AAEAL,QAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AACAR,QAAAA,YAAY,CAAC,EACX,GAAGD,SADQ;AAEXE,UAAAA,IAAI,EAAEO,QAAQ,CAACP,IAFJ;AAGXC,UAAAA,UAAU,EAAE;AAHD,SAAD,CAAZ;AAMD,OAZD,CAYE,OAAOS,CAAP,EAAU;AACVN,QAAAA,OAAO,CAACC,GAAR,CAAYK,CAAZ;AACAX,QAAAA,YAAY,CAAC,EAAE,GAAGD,SAAL;AAAgBG,UAAAA,UAAU,EAAE;AAA5B,SAAD,CAAZ;AACD;AACF,KAjBD;;AAkBAE,IAAAA,gBAAgB;AACjB,GApBQ,EAoBN,CAACN,KAAD,CApBM,CAAT,CAL6B,CAyBhB;;AAEb,SAAO,CAACC,SAAD,CAAP;AACD,CA5BD;;AA8BA,eAAeF,WAAf","sourcesContent":["\n// hooks/UseDataApi.js\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst url = \"http://localhost:3001/\";\n\nconst useRequest1 = (props) => {\n  // This is just for demo purposes, you probably want to separate the data from loading state and potentially add other states such as failures, etc..\n  const [dataState, setDataState] = useState({ data: [], isFetching: false }); \n  const [endpointUrl] = useState(url);\n\n  useEffect(() => {\n    const fetchDataFromApi = async () => {\n      try {\n        setDataState({ ...dataState, isFetching: true });\n        console.log(endpointUrl + requestURL);\n        const response = await axios.post(endpointUrl + requestURL, props.params);\n\n        console.log(response);\n        setDataState({\n          ...dataState,\n          data: response.data,\n          isFetching: false\n        });\n\n      } catch (e) {\n        console.log(e);\n        setDataState({ ...dataState, isFetching: false });\n      }\n    };\n    fetchDataFromApi();\n  }, [props]); // Runs once\n\n  return [dataState];\n};\n\nexport default useRequest1;"]},"metadata":{},"sourceType":"module"}